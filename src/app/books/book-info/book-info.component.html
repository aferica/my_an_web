
<!-- <div class="col-12" id="header">
  <img src="../../../assets/img/xianxia.jpg" width="100%"/>
</div> -->
<div class="card" *ngIf="bookInfo!=null">
    <header>
        <img src="../../../assets/img/xianxia.jpg" width="100%"/>
    </header>
    <div class="row">
    <div class="col-md-2 col-0">
        
    </div>
    <div class="col-md-8 col-12">
        <div class="row">
            <div class="col-md-2 col-12">
              <br/>
              <div align="center">
              <img src="{{imgApi}}{{staticImg}}{{bookInfo.cover}}" width="90%" style="text-align: center; max-width: 120px"/>
             </div>
            </div>
            <div class="col-md-7 col-12">
              <br/>
              <h5><b>{{bookInfo.title}}</b></h5>
              <div>
                <a>{{bookInfo.author}}   著</a><br/>
              </div>
              <div>
                <a *ngFor="let tag of bookInfo.tags">
                    <a  href="#" (click)="false" 
                    *ngIf="tag!=''" class="badge badge-success badge-pill" style="color:white">{{tag}}</a>
                </a>
              </div>
              <div>
                <a style="line-height:0.15em">字数：{{bookInfo.wordCount}}</a>&nbsp;&nbsp;&nbsp; | &nbsp;&nbsp;&nbsp;<a>追书人数：{{bookInfo.latelyFollower}}</a>
                &nbsp;&nbsp;&nbsp; | &nbsp;&nbsp;&nbsp;<a>好评率：{{bookInfo.retentionRatio}}%</a>
              </div>
              <div>
                <button (click)="readBook(0)" type="button" class="btn btn-outline-danger">开始阅读</button>
                <button type="button" class="btn btn-outline-primary">加入书架</button>
                <!-- <button type="button" class="btn btn-info">投票支持</button> -->
              </div>
            </div>
            <div class="col-md-3 col-12" align="right">
                <br/>
                <h1 style="color:orangered; font-style:italic">{{bookInfo.rating.score}}</h1>
                <a><b style="color:dodgerblue; font-size:1.5em">{{bookInfo.rating.count}}</b>读者打分</a>
            </div>
        </div>
        <br/>
        <br/>
        <div class="row">
          <div class="col-md-8 col-12">
            <tabset>
                <tab heading="作品信息" id="tab1">
                  <div class="list-group">
                    <div class="list-group-item">
                      <div class="row">
                        <div class="col-md-3 col-12">
                          <h6>最新章节：</h6>
                        </div>
                        <div class="col-md-9 col-12">
                            <h6 style="color:blue">{{bookInfo.lastChapter}}</h6>
                        </div>
                      </div>
                    </div>
                    <div class="list-group-item">
                      <div class="row">
                        <div class="col-md-3 col-12">
                          <h6>更新时间：</h6>
                        </div>
                        <div class="col-md-9 col-12">
                            <h6 style="color:blue">{{updateTime}}</h6>
                        </div>
                      </div>
                    </div>
                      <div class="list-group-item">
                        <div class="row">
                          <div class="col-md-3 col-12">
                            <h6>作品大类：</h6>
                          </div>
                          <div class="col-md-9 col-12">
                              <h6>{{bookInfo.majorCate}}</h6>
                          </div>
                        </div>
                      </div>
                      <div class="list-group-item">
                        <div class="row">
                          <div class="col-md-3 col-12">
                            <h6>作品小类：</h6>
                          </div>
                          <div class="col-md-9 col-12">
                              <h6>{{bookInfo.minorCate}}</h6>
                          </div>
                        </div>
                      </div>
                    <div class="list-group-item">
                      <div class="row">
                        <div class="col-md-3 col-12">
                          <h6>作品介绍：</h6>
                        </div>
                        <div class="col-md-9 col-12">
                            <h6>{{bookInfo.longIntro}}</h6>
                        </div>
                      </div>
                    </div>
                    <div class="list-group-item">
                      <div class="row">
                        <div class="col-md-3 col-12">
                          <h6>版权信息：</h6>
                        </div>
                        <div class="col-md-9 col-12">
                            <h6 style="color:red">{{bookInfo.copyright}}</h6>
                        </div>
                      </div>
                    </div>
                  </div>
                </tab>
                <tab heading="目录(共{{chaptersCount}}章)">
                  <div class=" row" >
                    <div *ngFor="let chapter of allChapters; let i = index;" class=" col-md-6 col-12">
                        <a (click)="readBook(i)" style="font-size: 1.25em">{{chapter.title}}</a>
                    </div>
                  </div>
                </tab>
                <tab heading="书友评论">
                  <div class="list-group">
                    <a  *ngFor="let comment of comments" class="list-group-item">
                      <div class="row">
                        <div class="col-md-2 col-12" style="text-align:center">
                          <img style="height:5em; width: 5em; border-radius:5em;" src="{{imgApi}}{{staticImg}}{{comment.author.avatar}}" /><br/>
                          <a style="color:dodgerblue; font-size: 0.75em">{{comment.author.nickname}}</a>
                        </div>
                        <div class="col-md-10 col-12">
                          <div><a style=" font-size: 1.25em">{{comment.title}}</a>
                            <i class="icon-dislike pull-right" style="color:red">{{comment.helpful.no}}</i>
                            <i class="icon-like pull-right" style="color:red">{{comment.helpful.yes}}&nbsp;&nbsp;&nbsp;</i>
                          </div>
                          <br/>
                          <p>{{comment.content}}</p>
                        </div>
                      </div>
                    </a>
                  </div>
                </tab>
              </tabset>
          </div>
          <div class="col-md-4 col-12 card" style="background-color:#eee9e2">
              <br/>
              <header>
                <h6>你可能喜欢...</h6>
              </header>
              <div class="list-group">
                <a  *ngFor="let book of relatedBooks; let i = index;" class="list-group-item">
                  <div class="row">
                    <div class="col-md-4 col-4">
                        <img src="{{imgApi}}{{staticImg}}{{book.cover}}" width="75"/>
                    </div>
                    <div class="col-md-8 col-8">
                        <h5 (click)="viewBookInfo(book._id)">
                            <span>{{book.title}}</span>
                        </h5>
                        <p>
                            <a>{{book.author}}</a> 
                        </p>
                    </div>
                  </div>
                </a>
              </div>
              <br/>
            </div>
        </div>
    </div>
    <div class="col-md-2 col-0">
        
    </div>
  </div>
</div>
